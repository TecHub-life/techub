<section class="mx-auto grid max-w-6xl grid-cols-1 gap-6 px-4 py-12 md:grid-cols-[260px_1fr]">
  <aside class="rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm backdrop-blur dark:border-slate-800 dark:bg-slate-900/80">
    <h2 class="mb-3 flex items-center gap-2 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">
      <i class="fa-solid fa-book-open text-sm"></i>
      Docs
    </h2>
    <ul class="flex max-h-[70vh] flex-col gap-1 overflow-auto text-sm">
      <% @docs_index.each do |rel| %>
        <% active = rel == @active_doc %>
        <li>
          <a href="<%= docs_path(path: rel) %>"
             class="flex items-center gap-2 rounded-lg px-3 py-2 transition <%= active ? 'bg-slate-900 text-white dark:bg-slate-200 dark:text-slate-900' : 'text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100' %>">
            <i class="fa-solid <%= active ? 'fa-file-circle-check' : 'fa-file-lines' %> text-xs opacity-70"></i>
            <span><%= File.basename(rel, '.md').tr('_-', ' ').split.map(&:capitalize).join(' ') %></span>
          </a>
        </li>
      <% end %>
    </ul>
  </aside>

  <main>
    <header class="mb-6 space-y-2">
      <h1 class="text-3xl font-bold text-slate-900 dark:text-slate-100">
        <%= @doc_heading.presence || "Documentation" %>
      </h1>
      <% if @doc_updated_at.present? %>
        <p class="text-sm text-slate-500 dark:text-slate-400">Updated <%= time_ago_in_words(@doc_updated_at) %> ago</p>
      <% end %>
    </header>

    <% if @doc_html.present? %>
      <article class="docs-content">
        <%= @doc_html.html_safe %>
      </article>
    <% else %>
      <p class="text-sm text-slate-600 dark:text-slate-300">Select a document from the list to view its contents.</p>
    <% end %>
  </main>
</section>
