<section class="mx-auto max-w-6xl space-y-6 px-4 py-12">
  <div class="flex items-end justify-between gap-4">
    <div>
      <h1 class="text-3xl font-bold text-slate-900 dark:text-slate-100"><span class="bg-gradient-to-r from-blue-600 via-cyan-600 to-emerald-600 bg-clip-text text-transparent dark:from-blue-400 dark:via-cyan-400 dark:to-emerald-400 animate-gradient">Archetypes</span> & Spirit Animals</h1>
      <p class="text-slate-600 dark:text-slate-300">Browse profiles by their synthesized motifs. Click to filter the directory.</p>
    </div>
    <div>
      <a href="<%= directory_path %>" class="rounded border px-3 py-2 text-slate-700 hover:bg-slate-50 dark:text-slate-300 dark:border-slate-700 dark:hover:bg-slate-800">Back to Directory</a>
    </div>
  </div>

  <div class="space-y-8">
    <div>
      <h2 class="text-xl font-semibold text-slate-900 dark:text-slate-100 mb-3">Archetypes</h2>
      <ul class="divide-y divide-slate-200 dark:divide-slate-700 rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800">
        <% @archetype_catalog.each do |item| %>
          <% slug = Motifs::Catalog.to_slug(item[:name]) %>
          <% rec = Motif.find_by(kind: 'archetype', theme: 'core', slug: slug) %>
          <% img_url = rec&.image_1x1_url.presence %>
          <li class="p-4">
            <div class="flex items-start justify-between gap-3">
              <div class="flex gap-4 items-start">
                <% if img_url.present? %>
                  <div class="w-14 h-14 rounded overflow-hidden bg-slate-200 dark:bg-slate-700 flex-shrink-0">
                    <img src="<%= img_url %>" alt="<%= item[:name] %>" class="w-full h-full object-cover">
                  </div>
                <% else %>
                  <div class="w-14 h-14 rounded bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 flex-shrink-0">
                    <span class="text-xs">No art</span>
                  </div>
                <% end %>
                <div>
                  <a href="<%= directory_path(archetype: item[:name]) %>" class="font-medium text-slate-900 hover:text-blue-600 dark:text-slate-100 dark:hover:text-blue-400"><%= item[:name] %></a>
                  <p class="text-sm text-slate-600 dark:text-slate-400"><%= rec&.short_lore.presence || item[:description] %></p>
                </div>
              </div>
              <% if item[:count].to_i > 0 %>
                <span class="inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-200"><%= item[:count] %></span>
              <% end %>
            </div>
          </li>
        <% end %>
      </ul>
    </div>

    <div>
      <h2 class="text-xl font-semibold text-slate-900 dark:text-slate-100 mb-3">Spirit Animals</h2>
      <ul class="divide-y divide-slate-200 dark:divide-slate-700 rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800">
        <% @spirit_catalog.each do |item| %>
          <% slug = Motifs::Catalog.to_slug(item[:name]) %>
          <% rec = Motif.find_by(kind: 'spirit_animal', theme: 'core', slug: slug) %>
          <% img_url = rec&.image_1x1_url.presence %>
          <li class="p-4">
            <div class="flex items-start justify-between gap-3">
              <div class="flex gap-4 items-start">
                <% if img_url.present? %>
                  <div class="w-14 h-14 rounded overflow-hidden bg-slate-200 dark:bg-slate-700 flex-shrink-0">
                    <img src="<%= img_url %>" alt="<%= item[:name] %>" class="w-full h-full object-cover">
                  </div>
                <% else %>
                  <div class="w-14 h-14 rounded bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 flex-shrink-0">
                    <span class="text-xs">No art</span>
                  </div>
                <% end %>
                <div>
                  <a href="<%= directory_path(spirit: item[:name]) %>" class="font-medium text-slate-900 hover:text-blue-600 dark:text-slate-100 dark:hover:text-blue-400"><%= item[:name] %></a>
                  <p class="text-sm text-slate-600 dark:text-slate-400"><%= rec&.short_lore.presence || item[:description] %></p>
                </div>
              </div>
              <% if item[:count].to_i > 0 %>
                <span class="inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-200"><%= item[:count] %></span>
              <% end %>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</section>
