<%# 1500x500 â€” X header (cover). Composition optimized to avoid avatar/name cropping by left-aligning safe content and adding gradient masks. %>
<div class="relative w-[<%= (@canvas_w || 1500).to_i %>px] h-[<%= (@canvas_h || 500).to_i %>px] overflow-hidden bg-slate-900">
  <% bg_url = supporting_art_url_for(profile: @profile, aspect: :banner) %>
  <img src="<%= bg_url %>" alt="background" class="absolute inset-0 h-full w-full object-cover object-center opacity-30">
  <div class="absolute inset-0 bg-gradient-to-r from-black/65 via-black/35 to-black/0"></div>
  <div class="absolute inset-0 bg-gradient-to-t from-black/25 via-transparent to-black/10"></div>

  <%# Twitter safe zones: avoid left bottom (avatar) and right edges. 
      Center-left is generally safe. The avatar covers ~400x400 area in bottom left on mobile/desktop. 
      So we push content to the RIGHT side or CENTER-RIGHT. %>
  <div class="absolute right-12 top-1/2 -translate-y-1/2 flex flex-col items-end text-right max-w-[60%]">
    <% name = @profile.display_name %>
    <% handle = @profile.login %>
    <div class="text-white drop-shadow-md">
      <div class="text-6xl font-extrabold leading-none tracking-tight"><%= name %></div>
      <div class="mt-2 text-3xl font-bold text-sky-400">@<%= handle %></div>
    </div>
    
    <% card = @profile.profile_card %>
    <% if (tag = card&.tagline.presence || card&.flavor_text.presence || card&.short_bio.presence).present? %>
      <div class="mt-4 text-2xl font-medium text-slate-100 leading-snug opacity-90"><%= tag %></div>
    <% end %>

    <%# Optional: Add small stats row %>
    <div class="mt-6 flex items-center gap-4 text-lg font-medium text-slate-300">
       <span class="flex items-center gap-2"><span class="text-sky-400">âš¡</span> <%= card&.archetype || "Builder" %></span>
       <% if @profile.followers.to_i > 0 %>
         <span class="flex items-center gap-2"><span class="text-emerald-400">ðŸ‘¥</span> <%= number_to_human(@profile.followers, format: "%n%u", units: { thousand: "K", million: "M" }) %></span>
       <% end %>
    </div>
  </div>
  
  <%# Branding watermark (subtle) %>
  <div class="absolute bottom-6 right-8">
    <div class="flex items-center gap-2 bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/10">
      <span class="text-xs font-bold text-white tracking-widest uppercase">techub.life</span>
    </div>
  </div>
</div>
