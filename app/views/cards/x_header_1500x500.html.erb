<%# 1500x500 â€” X header (cover). Composition optimized to avoid avatar/name cropping by left-aligning safe content and adding gradient masks. %>
<div class="relative w-[<%= (@canvas_w || 1500).to_i %>px] h-[<%= (@canvas_h || 500).to_i %>px] overflow-hidden bg-slate-900">
  <% bg_url = supporting_art_url_for(login: @profile.login, aspect: :banner) %>
  <img src="<%= bg_url %>" alt="background" class="absolute inset-0 h-full w-full object-cover object-center opacity-30">
  <div class="absolute inset-0 bg-gradient-to-r from-black/65 via-black/35 to-black/0"></div>
  <div class="absolute inset-0 bg-gradient-to-t from-black/25 via-transparent to-black/10"></div>

  <div class="absolute left-8 right-8 top-1/2 -translate-y-1/2 flex items-center justify-between">
    <div class="min-w-0 max-w-[60%]">
      <% name = @profile.display_name %>
      <% handle = @profile.login %>
      <div class="text-white">
        <div class="text-5xl font-extrabold leading-tight drop-shadow-sm truncate"><%= name %></div>
        <div class="mt-1 text-2xl font-semibold text-sky-300 truncate">@<%= handle %></div>
      </div>
      <% card = @profile.profile_card %>
      <% if (tag = card&.tagline.presence || card&.flavor_text.presence || card&.short_bio.presence).present? %>
        <div class="mt-3 text-lg text-slate-200 line-clamp-2"><%= tag %></div>
      <% end %>
    </div>
    <div class="flex-shrink-0 pr-2">
      <div class="w-28 h-28 rounded-full p-1.5 bg-gradient-to-r from-sky-500 via-cyan-500 to-emerald-500 shadow-xl">
        <div class="w-full h-full rounded-full overflow-hidden bg-gray-800">
          <img src="<%= avatar_image_url_for(@profile) %>" alt="avatar" class="w-full h-full object-cover object-center">
        </div>
      </div>
    </div>
  </div>
</div>


