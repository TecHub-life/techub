TecHub Job Failure Alert

Job: <%= @job %>
Profile: @<%= @profile&.login %>
Duration: <%= (@duration_ms || 0).to_i %> ms

Error:
<%= @error_message %>

Profile status: <%= @profile&.last_pipeline_status %>
Profile error: <%= @profile&.last_pipeline_error %>

Links:
<% begin %>
- Profile: <%= Rails.application.routes.url_helpers.profile_url(username: @profile.login) %>
- Ops Jobs: <%= Rails.application.routes.url_helpers.url_for(controller: '/ops/jobs', action: nil, only_path: false) rescue (Rails.application.routes.url_helpers.root_url + 'ops/jobs') %>
<% rescue %>
- Profile: <%= @profile&.login %>
- Ops Jobs: /ops/jobs
<% end %>

Metadata:
<%= (@metadata.present? ? JSON.pretty_generate(@metadata) : '(none)') %>
