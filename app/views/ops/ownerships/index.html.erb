<section class="mx-auto max-w-5xl space-y-6 px-4 py-12">
  <h1 class="text-2xl font-bold text-slate-900 dark:text-slate-100">Ownerships</h1>
  <p class="text-slate-600 dark:text-slate-300">Manage profile ownership links and owner flag.</p>

  <div class="overflow-x-auto rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800">
    <table class="min-w-full divide-y divide-slate-200 dark:divide-slate-700">
      <thead>
        <tr class="bg-slate-50 dark:bg-slate-900/40 text-left text-sm text-slate-700 dark:text-slate-300">
          <th class="px-4 py-3 font-semibold">Profile</th>
          <th class="px-4 py-3 font-semibold">User</th>
          <th class="px-4 py-3 font-semibold">Owner?</th>
          <th class="px-4 py-3 font-semibold">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
        <% @ownerships.each do |o| %>
          <tr class="text-sm">
            <td class="px-4 py-2">
              <a href="<%= profile_path(username: o.profile.login) %>" class="text-blue-600 dark:text-blue-400">@<%= o.profile.login %></a>
            </td>
            <td class="px-4 py-2">
              <a href="<%= o.user.github_profile_url %>" target="_blank" rel="noopener" class="text-slate-900 dark:text-slate-100">@<%= o.user.login %></a>
            </td>
            <td class="px-4 py-2">
              <% if o.is_owner %>
                <span class="inline-block rounded border px-2 py-0.5 bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200">Yes</span>
              <% else %>
                <span class="inline-block rounded border px-2 py-0.5 bg-slate-100 border-slate-200 text-slate-700 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300">No</span>
              <% end %>
            </td>
            <td class="px-4 py-2 space-x-2">
              <% if !o.is_owner %>
                <%= button_to 'Promote', ops_promote_ownership_path(o.id), method: :post, class: 'rounded bg-indigo-600 px-3 py-1 text-white hover:bg-indigo-700' %>
              <% else %>
                <%= button_to 'Demote', ops_demote_ownership_path(o.id), method: :post, class: 'rounded bg-slate-600 px-3 py-1 text-white hover:bg-slate-700' %>
              <% end %>
              <%= button_to 'Remove', ops_destroy_ownership_path(o.id), method: :delete, form: { data: { turbo_confirm: 'Remove ownership?' } }, class: 'rounded bg-red-600 px-3 py-1 text-white hover:bg-red-700' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div>
    <%= link_to 'Back to Ops', ops_admin_path, class: 'inline-block text-slate-700 hover:text-blue-600 dark:text-slate-300' %>
  </div>
</section>
