#!/usr/bin/env ruby
require "rubygems"
require "bundler/setup"

# Only enforce latest interactively; disable in CI or when explicitly turned off.
unless ENV["CI"] || ENV["BRAKEMAN_NO_ENSURE_LATEST"] == "1"
  ARGV.unshift("--ensure-latest")
end

# Default to no pager unless explicitly requested
unless ENV["BRAKEMAN_PAGER"] == "1"
  ARGV.unshift("--no-pager")
end

load Gem.bin_path("brakeman", "brakeman")
