#!/usr/bin/env ruby
require "rubygems"
require "bundler/setup"

# Default to non-interactive: do NOT enforce latest unless explicitly requested.
# Set BRAKEMAN_ENSURE_LATEST=1 to enable the interactive updater locally.
if ENV["BRAKEMAN_ENSURE_LATEST"] == "1"
  ARGV.unshift("--ensure-latest")
end

# Default to no pager unless explicitly requested
unless ENV["BRAKEMAN_PAGER"] == "1"
  ARGV.unshift("--no-pager")
end

load Gem.bin_path("brakeman", "brakeman")
